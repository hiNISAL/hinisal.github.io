<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="NISAL"><link rel="alternative" href="/atom.xml" title="HIσ`∀´)σNISAL" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>对象的get/set方法 - HIσ`∀´)σNISAL</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">HIσ`∀´)σNISAL</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">カタログ/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2018-04-24T18:37:24.000Z">April 25, 2018</time><h1 class="post__title"><a href="/2018/04/25/对象的get-set方法/">对象的get/set方法</a></h1><div class="post__main echo"><p>js在申明对象的时候 定义set和get方法</p>
<p>那具体有什么用呢</p>
<p>比如说 我们在修改一个对象的属性值的时候 我们想出发一系列的别的操作 但是单纯的通过<strong>对象.属性 = 属性值</strong>这种方式 除了赋值以外 一般情况下不会再做别的操作 这个时候就可以用get、set方法</p>
<pre class="lang:js decode:true ">var person = {
  name: 'nisal',
  age: 16,
  _weight: 0,
  get weight(){
    alert(this._weight);
  },
  set weight(val){
    val &lt; 100 ? this._weight = val : alert("太*了");
  }
};
person.weight;
person.weight = 1000;
person.weight;

// 0
// 太重了
// 10</pre>

<p>这里可以看到 在get、set参数之后 跟上一个名字 然后以函数的方式传入值 再把具体的操作写在类似于函数体里面</p>
<p>通过这个小例子可以看出 在定义属性的时候 我们可以做一些别的菜做</p>
<p>比如在给weight赋值的时候 可以set方法 并且可以对值做一个判断</p>
<p>如果大于100 那就是不给赋值的</p>
<p>不然就给赋值</p>
<p><strong><span style="color: #ff0000;">补充</span></strong></p>
<p><pre class="lang:js decode:true ">function foo(){}<br>Object.defineProperty(foo.prototype, ‘age’, {get: function(){return 14;}})<br>var obj = new foo();<br>obj.z;   // 返回14<br>obj.z = 10;<br>obj.z;   //　还是返回14</pre></p>
<div><br><div>也就是说 如果当前对象没有age属性 会往原型链上查找 如果有get set 就会走原型上的get 或者set 而不会新建一个属性</div><br></div></div></header></article><!--div.comments#lv-container(data-id = theme.livere_id, data-uid = theme.livere_uid)//script.
  //(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');--></main><footer class="foot"><div class="foot-copy">&copy; 2017-2018 NISAL</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/01/assets/haru01.model.json"}});</script></body></html>