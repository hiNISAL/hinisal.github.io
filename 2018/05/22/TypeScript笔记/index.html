<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="NISAL"><link rel="alternative" href="/atom.xml" title="HIσ`∀´)σNISAL" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>TypeScript笔记 - HIσ`∀´)σNISAL</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">HIσ`∀´)σNISAL</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">カタログ/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2018-05-22T07:59:07.000Z">May 22, 2018</time><h1 class="post__title"><a href="/2018/05/22/TypeScript笔记/">TypeScript笔记</a></h1><div class="post__main echo"><h1 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h1><hr>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p><code>npm i -g typescript</code></p>
<hr>
<h1 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 1.js</span><br><span class="line">function alt(str: String): void &#123;</span><br><span class="line">  alert(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// terminal</span><br><span class="line">$ tsc 1.js</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h1><p><code>let</code>、<code>const</code>关键字</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let a = 1;</span><br><span class="line">const PI = 3.1415926535</span><br></pre></td></tr></table></figure>
<p><strong>和es6的没啥区别</strong></p>
<hr>
<h1 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h1><ul>
<li>Boolean</li>
<li>String</li>
<li>Number</li>
<li>Array</li>
<li>enum</li>
<li>any</li>
<li>void</li>
</ul>
<ol>
<li>Boolean<br><code>let bool: Boolean = true</code></li>
<li>String<br><code>let str: String = &#39;hw&#39;</code></li>
<li>Number<br><code>let num: Number = 1</code></li>
<li>Array<br><code>let arr1: Number[] = [1, 2]</code><br><code>let arr2: Array&lt;String&gt; = [&#39;1&#39;, &#39;2&#39;]</code><br><code>let tup: [Number, String] = [1, &#39;nih&#39;];</code> <strong>这是元祖</strong></li>
<li><p>enum</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">enum color &#123; red, green, blue = &apos;#0000ff&apos; &#125;;</span><br><span class="line">console.log(color.blue); // #0000ff</span><br><span class="line">console.log(color.red);</span><br></pre></td></tr></table></figure>
</li>
<li><p>any<br><code>let a: any = 1</code></p>
</li>
<li><p>void<br>空值 常用于无返回值的函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function func(str: String): void &#123;</span><br><span class="line">  console.log(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h1 id="定义函数"><a href="#定义函数" class="headerlink" title="定义函数"></a>定义函数</h1><p>声明函数类型和函数参数类型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function func(str: String): String &#123;</span><br><span class="line">  return `String$&#123;str&#125;`;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>可选参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function descmyself(name: String, age?: Number): void &#123;</span><br><span class="line">  console.log(`My name is $&#123;name&#125;`);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>带有默认值的参数也可以不传入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function descmyself(name: String, age = 10): any &#123;</span><br><span class="line">  console.log(`My name is $&#123;name&#125;`);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ts标准的函数声明方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const printer: (str: String) =&gt; Number = function (str: String): Number &#123;</span><br><span class="line">  return 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>不确定参数(es6-rest参数)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function f(str: String, ...oth: nay[]): void &#123;</span><br><span class="line">  console.log(oth);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<h1 id="类"><a href="#类" class="headerlink" title="类"></a>类</h1><p>类的定义<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  name: String;</span><br><span class="line">  age: Number;</span><br><span class="line"></span><br><span class="line">  constructor(name: String, age: Number) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    this.age = age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  say(): void &#123;</span><br><span class="line">    console.log(`My name is $&#123;this.name&#125;`);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let person = new Person(&apos;Nisal&apos;, 16);</span><br><span class="line">person.say();</span><br></pre></td></tr></table></figure></p>
<p>类的继承<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class Human extends Person&#123;</span><br><span class="line">  sex: String;</span><br><span class="line"></span><br><span class="line">  constructor(name: String, age: Number, sex: String) &#123;</span><br><span class="line">    super(name, age);</span><br><span class="line">    this.sex = sex;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  desc(): void &#123;</span><br><span class="line">    this.say();</span><br><span class="line">    console.log(`sex: $&#123;this.sex&#125;`);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let human = new Human(&apos;nisal&apos;, 18, &apos;男&apos;);</span><br><span class="line">human.desc();</span><br></pre></td></tr></table></figure></p>
<p>类的访问修饰符</p>
<ul>
<li>public</li>
<li>private</li>
<li>protected<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  private name: String;</span><br><span class="line">  public age: Number;</span><br><span class="line"></span><br><span class="line">  constructor(name: String, age: Number) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    this.age = age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  say(): void &#123;</span><br><span class="line">    console.log(`My name is $&#123;this.name&#125;`);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let p = new Person(&apos;NISAL&apos;, 14);</span><br><span class="line">p.age = 18;</span><br><span class="line">p.name = &apos;NISAL&apos;;   // 这里会报错</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>给私有成员添加get &amp; set方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  private name: String;</span><br><span class="line">  public age: Number;</span><br><span class="line"></span><br><span class="line">  private _hobby: String;</span><br><span class="line"></span><br><span class="line">  get Hobby(): String &#123;</span><br><span class="line">    return this._hobby;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  set Hobby(hob: String) &#123;</span><br><span class="line">    this._hobby = hob;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  constructor(name: String, age: Number) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    this.age = age;</span><br><span class="line">    this._hobby = &apos;没有&apos;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  say(): void &#123;</span><br><span class="line">    console.log(`My name is $&#123;this.name&#125;`);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let p = new Person(&apos;NISAL&apos;, 14);</span><br><span class="line">console.log(p.Hobby);</span><br><span class="line">p.Hobby = &apos;100&apos;;</span><br><span class="line">console.log(p.Hobby);</span><br></pre></td></tr></table></figure></p>
<p>静态成员<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class Utils &#123;</span><br><span class="line">  static stringify(obj: Object): String &#123;</span><br><span class="line">    return JSON.stringify(obj);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(Utils.stringify(&#123;a: 1&#125;));</span><br></pre></td></tr></table></figure></p>
<hr>
<h1 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h1><p>对类的接口 - 要实现某个接口的类必须定义该接口种所有的方法和属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">interface Human &#123;</span><br><span class="line">  say(): void;</span><br><span class="line">  eat(food: String): void;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Student implements Human&#123;</span><br><span class="line">  say(): void &#123;</span><br><span class="line">    console.log(&apos;hello&apos;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  eat(food: String) &#123;</span><br><span class="line">    console.log(`Eating $&#123;food&#125;`);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>对函数的接口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">interface _add &#123;</span><br><span class="line">  (a: number, b: number): number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const add: _add = (a: number, b: number) =&gt; &#123;</span><br><span class="line">  return a - b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>对数组的接口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">interface ArrInterface &#123;</span><br><span class="line">  // 下标采用number访问 存储类型为string</span><br><span class="line">  [index: number]: string</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">let arr: ArrInterface = [&apos;a&apos;, &apos;b&apos;];</span><br></pre></td></tr></table></figure></p>
<p>对对象的接口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">interface ObjInterface &#123;</span><br><span class="line">  a: string,</span><br><span class="line">  b: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function test(obj: ObjInterface) &#123;</span><br><span class="line">  console.log(obj);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test(&#123;a: &apos;1&apos;, b: 2&#125;);</span><br></pre></td></tr></table></figure></p>
<hr>
<h1 id="范型"><a href="#范型" class="headerlink" title="范型"></a>范型</h1><p>范型函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function func&lt;Type&gt; (arg1: Type): Type &#123;</span><br><span class="line">  return arg1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(func&lt;number&gt;(1));</span><br><span class="line">console.log(func&lt;number&gt;(&apos;a&apos;)); // 报错</span><br></pre></td></tr></table></figure></p>
<p>范型类<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class Point&lt;T&gt; &#123;</span><br><span class="line">  a: T;</span><br><span class="line">  b: T;</span><br><span class="line">  add: (a: T, b: T) =&gt; T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let a = new Point&lt;number&gt;();</span><br></pre></td></tr></table></figure></p>
<p>范型接口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">interface Demo&lt;T&gt; &#123;</span><br><span class="line">  add(a: T, b: T): T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Klass implements Demo&lt;number&gt; &#123;</span><br><span class="line">  add(a: number, b: number) &#123;</span><br><span class="line">    return a + b;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<h1 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h1><p>定义模块</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">namespace MODULE_NAME &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>导出模块</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">namespace M1 &#123;</span><br><span class="line">  export class A &#123;</span><br><span class="line">    say() &#123;</span><br><span class="line">      console.log(&apos;hello world&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 还可以使用export default</span><br></pre></td></tr></table></figure>
<p>导入模块【三斜线指令】</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/// &lt;referenct path=&quot;./1.ts&quot; /&gt;</span><br><span class="line"></span><br><span class="line">new M1.A().say();</span><br></pre></td></tr></table></figure>
</div></header></article><!--div.comments#lv-container(data-id = theme.livere_id, data-uid = theme.livere_uid)//script.
  //(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');--></main><footer class="foot"><div class="foot-copy">&copy; 2017-2018 NISAL</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/01/assets/haru01.model.json"}});</script></body></html>